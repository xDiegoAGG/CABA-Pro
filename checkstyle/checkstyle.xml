<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
    "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
    "https://checkstyle.org/dtds/configuration_1_3.dtd">
<module name="Checker">

  <!-- Línea máx 100 (coincide con .editorconfig y Google style) -->
  <module name="LineLength">
    <property name="max" value="100"/>
    <property name="ignorePattern" value="^package.*|^import.*"/>
  </module>

  <!-- Exigir encabezado (Autor/Fecha/Rol/Descripción/Proyecto) -->
  <!-- Usamos RegexpMultiline para permitir fecha/autor variables -->
  <module name="RegexpMultiline">
    <property name="format"
      value="(?s)^/\*\*\s*\R\s*\*\s*Autor:\s*.+\R\s*\*\s*Fecha:\s*\d{2}/\d{2}/\d{4}\s*\R\s*\*\s*Rol:\s*(Desarrollador|Arquitecto)\s*\R\s*\*\s*Descripción:\s*.+\R\s*\*/"/>
    <property name="message" value="Falta o es inválido el header obligatorio (Autor/Fecha/Rol/Descripción)."/>
  </module>

  <!-- Banear System.out/err y printStackTrace -->
  <module name="RegexpSingleline">
    <property name="format" value="System\.out\.print|System\.err\.print|printStackTrace\s*\(" />
    <property name="message" value="Prohibido usar System.out/err o printStackTrace. Usa logger."/>
    <property name="ignoreComments" value="true"/>
  </module>

  <!-- Google checks base -->
  <module name="TreeWalker">
    <module name="OuterTypeFilename"/>
    <module name="IllegalImport"/>
    <module name="RedundantImport"/>
    <module name="UnusedImports"/>

    <!-- Comentarios Javadoc en públicos (controlable; empieza suave) -->
    <module name="JavadocType">
      <property name="scope" value="public"/>
      <property name="severity" value="warning"/>
    </module>
    <module name="JavadocMethod">
      <property name="scope" value="public"/>
      <property name="allowMissingParamTags" value="true"/>
      <property name="allowMissingThrowsTags" value="true"/>
      <property name="severity" value="warning"/>
    </module>

    <!-- Nombres claros -->
    <module name="MethodName"/>
    <module name="ParameterName"/>
    <module name="LocalVariableName"/>
  </module>
</module>
